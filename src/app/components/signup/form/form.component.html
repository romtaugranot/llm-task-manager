<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
    <div class="form-row">
        <div class="form-group">
            <input
                type="text"
                id="firstName"
                formControlName="firstName"
                class="form-input"
                [class.error]="isFieldInvalid('firstName')"
            />
            <label for="firstName" class="form-label">First Name *</label>
        </div>

        <div class="form-group">
            <input
                type="text"
                id="lastName"
                formControlName="lastName"
                class="form-input"
                [class.error]="isFieldInvalid('lastName')"
            />
            <label for="lastName" class="form-label">Last Name *</label>
        </div>
    </div>

    <div class="form-group">
        <input
            type="email"
            id="email"
            formControlName="email"
            class="form-input"
            [class.error]="isFieldInvalid('email')"
        />
        <label for="email" class="form-label">Email *</label>
    </div>

    <div class="form-group password-group">
        <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            formControlName="password"
            class="form-input"
            [class.error]="isFieldInvalid('password')"
        />
        <label for="password" class="form-label">Password *</label>
        <button
            type="button"
            class="password-toggle"
            (click)="togglePassword()"
            [attr.aria-label]="showPassword ? 'Hide password' : 'Show password'"
        >
            <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
            >
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
                @if(showPassword) {
                <path d="m1 1 22 22"></path>
                }
            </svg>
        </button>
    </div>

    <button
        type="submit"
        class="submit-btn"
        [disabled]="loginForm.invalid"
        [class.loading]="isLoading"
    >
        {{ isLoading ? 'Creating account...' : 'Create account' }}
    </button>
</form>
